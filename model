# -*- coding: utf-8 -*-
"""Generated by ArcGIS ModelBuilder on: 2019-10-30 14:48:25
All ModelBuilder functionality may not be exported. Edits may be required for equivalency with the original model.
"""

import arcpy

# To allow overwriting the outputs change the overwrite option to true.
arcpy.env.overwriteOutput = False

# Load required toolboxes
arcpy.ImportToolbox("Model Tools")

# Script parameters
mt_regioes_imea = arcpy.GetParameterAsText(0) or "mt_regioes_imea"
# Local variables:
I_mt_regioes_imea_Nome_3 = mt_regioes_imea
Value = "acorizal"
mapbiomas_none_matogrosso_2018_tif = "mapbiomas-none-matogrosso-2018.tif"
raster_msk = r"A:\Mapbiomas_MT\MAPBIOMAS-EXPORT\mapbiomas\processamento.gdb\raster_msk"
v_nomemuni_ = r"A:\Mapbiomas_MT\MAPBIOMAS-EXPORT\mapbiomas\processamento.gdb\%nomemuni%"

# Process: Iterate Feature Selection
arcpy.IterateFeatureSelection_mb(in_features=mt_regioes_imea, fields="Nome_3 #", skip_nulls="false")

# Process: Extract by Mask
arcpy.gp.ExtractByMask_sa(in_raster=mapbiomas_none_matogrosso_2018_tif, in_mask_data=I_mt_regioes_imea_Nome_3, out_raster=raster_msk)

# Process: Raster to Polygon
tempEnvironment0 = arcpy.env.outputZFlag
tempEnvironment0 = arcpy.env.outputZFlag
tempEnvironment1 = arcpy.env.outputMFlag
tempEnvironment1 = arcpy.env.outputMFlag
arcpy.RasterToPolygon_conversion(in_raster=raster_msk, out_polygon_features=v_nomemuni_, simplify="SIMPLIFY", raster_field="Value", create_multipart_features="MULTIPLE_OUTER_PART", max_vertices_per_feature="")
arcpy.env.outputZFlag = tempEnvironment0
arcpy.env.outputMFlag = tempEnvironment1
